Spring Security
- 회원인증(로그인), 인가(접근 제어)
- 보안(CSRF)


설치
Strater Spring Security



------------------------------------

스프링 시큐리티
인증 : 로그인
인가 : 페이지 접근 통제(권한) - 관리자, 회원전용
csrf 보안


ModelMapper
-> 동일한 구조의 getter, setter -> 서로 변환

UserDetails 인터페이스 : 사용자 정보
  -  User : UserDetails 인터페이스의 구현 클래스
    - username, password, roles

UserDetailsService 인터페이스
  - 세션 -> String username : 아이디
  - 회원정보를 DB에 조회 -> UserDetails 구현 클래스에 값을 넣어주는 역할



1. 로그인한 회원정보 조회
  1) 컨트롤러 주입
    - principal principal
         - @AuthenticationPrincipal UserDtails 구현체
  2) Spring Bean
    - SecuityContextHolder
        Object principal = SecurityContextHolder.getContext().getAuthentication().getPrincipal();
        UserInfo userInfo = (UserInfo) principal;


타임리프 확장 모듈(spring security)
thymeleaf-extras-springsecurity6     --> 이미 다운로드 받아있다.
  xmlns:sec="http://www.thymeleaf.org/extras/spring-security"

  sec:authorize
	- isAnonymous() : 미로그인
	- isAuthenticated() : 로그인 상태
	- hasAuthority("권한명")
	- hasAnyAuthority("권한명")

Spring Data JPA Auditing + Spring Security : 수정자

AuditorAware 인터페이스 구현, 스프링 빈



2. tymeleaf spring security





인터페이스 명세서

REST  방식으로 회원가입 로그인 구현하기

java 배포파일.jar - Dspring.profiles.active=prod



--------------------------------------------


3.
















